(()=>{var t={417:t=>{t.exports=class{constructor(t=""){this.speakers={},this.lines=[],this.renpyOutput="",this.script="",""!==t&&this.setScript(t)}setScript(t){this.script=t}getRenPyOutput(t=!1){return""===this.script?"":""===this.renpyOutput||t?(this.lines=this.breakTextIntoLines(this.script),this.speakers=this.findAllSpeakersInDocument(this.script),this.renpyOutput=this.generateRenpyScript(Object.keys(this.speakers),this.lines),this.renpyOutput):this.renpyOutput}breakTextIntoLines(t){return t.split("\n")}findAllSpeakersInDocument(t){let e={};return t.match(/^(.*?):/gm).forEach((t=>{t=t.replace(":",""),e[t]=t})),e}generateRenpyScript(t,e){let r="";return t.forEach((t=>{r+=`define ${t} = Character("${t}")\n`})),r+="\nlabel start:\n",e.forEach((t=>{r+=this.printLineWithSpeaker(t)})),r+="\n\treturn\n",r}printLineWithSpeaker(t){let e=t.match(/^(.*?):/gm);return null===e?`\t"${t=t.replace(/^"|"$/g,"")}"\n`:(e=e[0].replace(":",""),t=(t=t.replace(e+": ","")).replace(/^"|"$/g,""),`\t ${this.speakers[e]} "${t}"\n`)}}}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(417);let e=new(r.n(t)());document.getElementById("script-form").addEventListener("submit",(t=>{t.preventDefault();let r=document.getElementById("script").value;e.setScript(r),document.getElementById("renpy-output").innerText=e.getRenPyOutput()}))})()})();